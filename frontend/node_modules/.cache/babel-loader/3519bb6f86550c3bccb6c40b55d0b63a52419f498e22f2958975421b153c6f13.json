{"ast":null,"code":"export default {\n  data() {\n    return {\n      nearbyVillages: []\n    };\n  },\n  created() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this.getNearbyVillages);\n    }\n  },\n  methods: {\n    getNearbyVillages(position) {\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n      fetch(`http://localhost:5000/api/villages/nearby?lat=${latitude}&lon=${longitude}`).then(response => response.json()).then(data => {\n        this.nearbyVillages = data;\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","nearbyVillages","created","navigator","geolocation","getCurrentPosition","getNearbyVillages","methods","position","latitude","longitude","coords","fetch","then","response","json"],"sources":["/home/toma/桌面/projects/RuralWebApp/frontend/src/components/LocationService.vue"],"sourcesContent":["<template>\r\n  <div class=\"location-service\">\r\n    <h2>附近的村庄</h2>\r\n    <ul>\r\n      <li v-for=\"village in nearbyVillages\" :key=\"village.id\">\r\n        <h3>{{ village.name }}</h3>\r\n        <p>{{ village.description }}</p>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      nearbyVillages: [],\r\n    };\r\n  },\r\n  created() {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(this.getNearbyVillages);\r\n    }\r\n  },\r\n  methods: {\r\n    getNearbyVillages(position) {\r\n      const { latitude, longitude } = position.coords;\r\n      fetch(`http://localhost:5000/api/villages/nearby?lat=${latitude}&lon=${longitude}`)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          this.nearbyVillages = data;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.location-service {\r\n  padding: 20px;\r\n  background: #e4e4e4;\r\n}\r\n</style>\r\n"],"mappings":"AAaA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAIC,SAAS,CAACC,WAAW,EAAE;MACzBD,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAAC,IAAI,CAACC,iBAAiB,CAAC;IAClE;EACF,CAAC;EACDC,OAAO,EAAE;IACPD,iBAAiBA,CAACE,QAAQ,EAAE;MAC1B,MAAM;QAAEC,QAAQ;QAAEC;MAAU,IAAIF,QAAQ,CAACG,MAAM;MAC/CC,KAAK,CAAC,iDAAiDH,QAAQ,QAAQC,SAAS,EAAE,EAC/EG,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAClCF,IAAI,CAAEb,IAAI,IAAK;QACd,IAAI,CAACC,cAAa,GAAID,IAAI;MAC5B,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}