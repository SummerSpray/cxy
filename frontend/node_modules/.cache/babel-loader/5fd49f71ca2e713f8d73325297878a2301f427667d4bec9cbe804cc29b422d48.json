{"ast":null,"code":"export default {\n  data() {\n    return {\n      notices: []\n    };\n  },\n  methods: {\n    fetchNotices() {\n      fetch('http://localhost:5000/api/notices').then(response => response.json()).then(data => {\n        // 假设 API 返回的数据中包含 isPinned 字段\n        this.notices = data.map(notice => ({\n          ...notice,\n          isPinned: notice.isPinned || false // 确保 isPinned 字段存在\n        }));\n\n        // 对通知进行排序，确保 isPinned 为 true 的通知排在前面\n        this.notices.sort((a, b) => {\n          if (a.isPinned && !b.isPinned) return -1;\n          if (!a.isPinned && b.isPinned) return 1;\n          return 0;\n        });\n      }).catch(err => console.error(err));\n    }\n  },\n  created() {\n    this.fetchNotices();\n  }\n};","map":{"version":3,"names":["data","notices","methods","fetchNotices","fetch","then","response","json","map","notice","isPinned","sort","a","b","catch","err","console","error","created"],"sources":["/home/toma/桌面/projects/RuralWebApp/frontend/src/components/NoticeBoard.vue"],"sourcesContent":["<template>\r\n  <div class=\"notice-board\">\r\n    <h2>最新通知</h2>\r\n    <ul>\r\n      <li\r\n        v-for=\"notice in notices\"\r\n        :key=\"notice.id\"\r\n        :class=\"{ 'is-pinned': notice.isPinned }\"\r\n      >\r\n        <strong>{{ notice.title }}</strong>\r\n        <p>{{ notice.content }}</p>\r\n        <small>发布时间: {{ new Date(notice.createdAt).toLocaleString() }}</small>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      notices: [],\r\n    };\r\n  },\r\n  methods: {\r\n    fetchNotices() {\r\n      fetch('http://localhost:5000/api/notices')\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          // 假设 API 返回的数据中包含 isPinned 字段\r\n          this.notices = data.map((notice) => ({\r\n            ...notice,\r\n            isPinned: notice.isPinned || false, // 确保 isPinned 字段存在\r\n          }));\r\n\r\n          // 对通知进行排序，确保 isPinned 为 true 的通知排在前面\r\n          this.notices.sort((a, b) => {\r\n            if (a.isPinned && !b.isPinned) return -1;\r\n            if (!a.isPinned && b.isPinned) return 1;\r\n            return 0;\r\n          });\r\n        })\r\n        .catch((err) => console.error(err));\r\n    },\r\n  },\r\n  created() {\r\n    this.fetchNotices();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.notice-board {\r\n  padding: 20px;\r\n  background: #f9f9f9;\r\n  border-radius: 8px;\r\n  border: 1px solid #ddd;\r\n}\r\n.notice-board h2 {\r\n  margin-bottom: 10px;\r\n}\r\n.notice-board ul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\n.notice-board li {\r\n  margin-bottom: 15px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid #eaeaea;\r\n  padding: 10px;\r\n  background: #fff;\r\n  border-radius: 5px;\r\n  transition: background 0.3s;\r\n}\r\n.notice-board li.is-pinned {\r\n  background: #f1f1f1; /* 高亮背景色 */\r\n  font-weight: bold; /* 加粗字体 */\r\n}\r\n\r\n</style>"],"mappings":"AAkBA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACbC,KAAK,CAAC,mCAAmC,EACtCC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAClCF,IAAI,CAAEL,IAAI,IAAK;QACd;QACA,IAAI,CAACC,OAAM,GAAID,IAAI,CAACQ,GAAG,CAAEC,MAAM,KAAM;UACnC,GAAGA,MAAM;UACTC,QAAQ,EAAED,MAAM,CAACC,QAAO,IAAK,KAAK,CAAE;QACtC,CAAC,CAAC,CAAC;;QAEH;QACA,IAAI,CAACT,OAAO,CAACU,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;UAC1B,IAAID,CAAC,CAACF,QAAO,IAAK,CAACG,CAAC,CAACH,QAAQ,EAAE,OAAO,CAAC,CAAC;UACxC,IAAI,CAACE,CAAC,CAACF,QAAO,IAAKG,CAAC,CAACH,QAAQ,EAAE,OAAO,CAAC;UACvC,OAAO,CAAC;QACV,CAAC,CAAC;MACJ,CAAC,EACAI,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC;IACvC;EACF,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAACf,YAAY,CAAC,CAAC;EACrB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}